/* ============================================
   LEVEL UP MODAL - BASE FROM SCRATCH (LEFT SIDE FIRST)
   ============================================ */

.luModal {
  --paper: #d8c8a9;
  --ink: #0f2028;
  --ink-soft: rgba(15, 32, 40, 0.6);
}

body.levelup-priority .topbar,
body.levelup-priority .bottomNav {
  visibility: hidden;
}

#levelUpModal {
  position: fixed;
  inset: 0;
  width: 100vw !important;
  height: 100vh !important;
  padding: 0 !important;
  margin: 0 !important;
  place-items: stretch !important;
  z-index: 50000;
}

#levelUpModal:not([hidden]) {
  display: grid !important;
}

#levelUpModal[hidden] { display: none !important; }

.luModal .modal__backdrop {
  background: rgba(0, 0, 0, 0.9);
  backdrop-filter: blur(2px);
}

.luCard {
  position: absolute;
  inset: 0;
  width: 100vw !important;
  height: 100vh !important;
  max-width: none !important;
  max-height: none !important;
  margin: 0 !important;
  border: 0;
  border-radius: 0 !important;
  overflow: hidden;

  /* Fondo inspirado en la imagen de referencia (papel + tinta) */
  background:
    radial-gradient(70% 100% at 78% 22%, rgba(9, 25, 32, 0.93) 0%, rgba(13, 34, 42, 0.9) 33%, rgba(33, 55, 60, 0.72) 57%, rgba(216, 200, 169, 0) 75%),
    radial-gradient(40% 55% at 75% 85%, rgba(10, 23, 29, 0.9) 0%, rgba(18, 37, 43, 0.75) 48%, rgba(216, 200, 169, 0) 72%),
    radial-gradient(38% 48% at 59% 50%, rgba(86, 95, 87, 0.45) 0%, rgba(216, 200, 169, 0) 75%),
    linear-gradient(120deg, #e3d2b2 0%, #dbc9a8 45%, #d2bf9a 100%);
}

#levelUpModal .modal__card.luCard {
  position: fixed !important;
  inset: 0 !important;
  width: 100vw !important;
  height: 100dvh !important;
  max-width: none !important;
  max-height: none !important;
  border-radius: 0 !important;
  margin: 0 !important;
  padding: 0 !important;
  transform: none !important;
}

.luCard::before {
  content: '';
  position: absolute;
  inset: 0;
  pointer-events: none;
  background-image: url('../assets/noise_dither.png');
  opacity: 0.18;
  mix-blend-mode: multiply;
}

.luLayout {
  position: relative;
  z-index: 1;
  display: grid;
  grid-template-columns: 1fr 1fr;
  width: 100%;
  height: 100%;
}

/* IZQUIERDA: imagen + nivel + nombre */
.luLeft {
  position: relative;
  min-width: 0;
  overflow: hidden;
}

.luHeroArt {
  position: absolute;
  inset: 0;
  background-repeat: no-repeat;
  /* Zoom protagonista sin cortar la parte superior del rostro */
  background-size: auto clamp(112%, 128%, 138%);
  background-position: 22% 100%;
  filter: drop-shadow(0 18px 30px rgba(0, 0, 0, 0.5));
}

.luLeftMeta {
  position: absolute;
  left: clamp(14px, 2.2vw, 30px);
  bottom: clamp(12px, 2.4vh, 26px);
  color: #f5f2e9;
  background: transparent !important;
  text-shadow: 0 4px 14px rgba(0, 0, 0, 0.82), 0 1px 0 rgba(0, 0, 0, 0.9);
  z-index: 2;
}

.luLevelText {
  display: flex;
  align-items: flex-end;
  gap: 10px;
  line-height: 0.88;
}

.luLevelText__label {
  font-size: clamp(1.2rem, 2.4vw, 1.8rem);
  font-weight: 800;
  letter-spacing: 0.14em;
  margin-bottom: 10px;
}

.luNum {
  font-size: clamp(3.6rem, 9.8vw, 8.8rem);
  font-weight: 900;
  line-height: 0.88;
}

.luHeroName {
  margin-top: 2px;
  font-size: clamp(1.4rem, 2.8vw, 2.4rem);
  font-weight: 700;
  letter-spacing: 0.04em;
}

/* DERECHA: placeholder temporal (stats despu√©s) */
.luRight {
  position: relative;
  display: flex;
  flex-direction: column;
  justify-content: flex-start;
  align-items: flex-start;
  gap: 14px;
  padding: clamp(18px, 3.5vw, 42px);
  color: #ecf0f2;
}

.luKicker {
  margin: 0;
  font-size: clamp(1.1rem, 2.3vw, 1.9rem);
  text-transform: uppercase;
  letter-spacing: 0.05em;
  font-weight: 900;
  color: #eef2f4;
  text-shadow: 0 2px 10px rgba(0, 0, 0, 0.55);
}

.luRightPlaceholder {
  font-size: 1rem;
  color: rgba(240, 244, 247, 0.86);
  border-left: 3px solid rgba(240, 244, 247, 0.34);
  padding-left: 10px;
}

.luChoices {
  width: min(520px, 100%);
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.luNote { display: none !important; }

.levelUpStatRow {
  display: grid;
  grid-template-columns: 1fr auto auto;
  align-items: center;
  gap: 12px;
  padding: 10px 12px;
  border-radius: 10px;
  border: 1px solid rgba(233, 240, 245, 0.24);
  background: rgba(8, 20, 28, 0.24);
}

.levelUpStatRow__name {
  font-size: 1.06rem;
  font-weight: 800;
  letter-spacing: 0.04em;
}

.levelUpStatRow__value {
  min-width: 32px;
  text-align: center;
  font-size: 1.06rem;
  font-weight: 700;
}

.levelUpStatRow__plus {
  width: 34px;
  height: 34px;
  border-radius: 8px;
  border: 1px solid rgba(233, 240, 245, 0.45);
  background: rgba(233, 240, 245, 0.14);
  color: #f5f2e9;
  font-size: 1.35rem;
  font-weight: 800;
  line-height: 1;
  cursor: pointer;
}

.levelUpStatRow__plus:hover {
  background: rgba(233, 240, 245, 0.28);
}

@media (max-width: 920px) {
  .luLayout {
    grid-template-columns: 1fr;
    grid-template-rows: 62% 38%;
  }

  .luRight {
    padding-top: 10px;
    background: linear-gradient(to top, rgba(5, 14, 18, 0.48), rgba(5, 14, 18, 0));
  }

  .luHeroArt {
    background-size: auto 110%;
    background-position: 36% 100%;
    opacity: 0.84;
  }
}
