:root{
  --obs: rgb(15,15,20);
  --cob: rgb(25,42,86);
  --am: rgb(114,26,255);
  --eth: rgb(0,210,255);
  --steel: rgb(220,220,230);

  --panel: rgba(25,42,86,0.66);
  --shadow: 0 18px 50px rgba(0,0,0,0.45);
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, "Noto Sans", sans-serif;
  background: var(--obs);
  color: var(--steel);
  overflow-x:hidden;
}

body::before{
  content:"";
  position:fixed;
  inset:0;
  pointer-events:none;
  opacity:0.08;
  background-image:
    url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='140' height='140'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='.9' numOctaves='2' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='140' height='140' filter='url(%23n)' opacity='.5'/%3E%3C/svg%3E");
  mix-blend-mode: overlay;
}

.topbar{
  position:sticky; top:0; z-index:10;
  display:flex; align-items:center; justify-content:space-between;
  gap:12px; padding:10px 14px;
  background: rgba(15,15,20,0.75);
  backdrop-filter: blur(10px);
  border-bottom: 1px solid rgba(0,210,255,0.15);
}

.brand{display:flex; align-items:center; gap:10px}
.brandMark{
  width:44px;height:44px; display:grid; place-items:center;
  border-radius:12px;
  background: linear-gradient(145deg, rgba(114,26,255,0.25), rgba(0,210,255,0.12));
  border:1px solid rgba(0,210,255,0.25);
  box-shadow: 0 0 0 1px rgba(114,26,255,0.12), 0 14px 30px rgba(0,0,0,0.35);
  font-weight:900;
}
.brandTitle{font-weight:800; line-height:1}
.brandSub{font-size:12px; opacity:.75; margin-top:2px}

.topbarActions{display:flex; align-items:center; gap:10px; flex-wrap:wrap; justify-content:flex-end}
.toggle{display:flex; align-items:center; gap:8px; font-size:12px; opacity:.9}
.toggle code{opacity:.85}
.toggle input{accent-color: var(--eth)}

.btn, .btnPrimary, .iconBtn{
  border-radius:12px;
  border:1px solid rgba(0,210,255,0.22);
  background: rgba(25,42,86,0.45);
  color: var(--steel);
  padding:10px 12px;
  cursor:pointer;
  box-shadow: 0 10px 26px rgba(0,0,0,0.35);
  transition: transform .12s ease, border-color .12s ease;
}
.btn:hover, .btnPrimary:hover, .iconBtn:hover{transform: translateY(-1px); border-color: rgba(0,210,255,0.4)}
.btnPrimary{
  background: linear-gradient(135deg, rgba(114,26,255,0.35), rgba(0,210,255,0.18));
  border-color: rgba(114,26,255,0.35);
}
.iconBtn{
  width:42px;height:42px; display:grid; place-items:center; padding:0;
}

.wrap{
  max-width: 1200px;
  margin: 16px auto;
  padding: 0 14px 22px;
  display:grid;
  grid-template-columns: 1.35fr .65fr;
  gap:14px;
}

.panel{
  background: var(--panel);
  border: 1px solid rgba(0,210,255,0.16);
  border-radius: 18px;
  box-shadow: var(--shadow);
  overflow:hidden;
}
.panelHeader{
  display:flex; align-items:flex-start; justify-content:space-between; gap:12px;
  padding: 14px 14px 12px;
  background: rgba(0,0,0,0.12);
  border-bottom: 1px solid rgba(0,210,255,0.10);
}
.h1{font-weight:900; font-size:16px}
.muted{opacity:.75; font-size:12px; margin-top:4px; max-width: 70ch}
.pill{
  font-size:12px; padding:8px 10px; border-radius:999px;
  border:1px solid rgba(0,210,255,0.2);
  background: rgba(15,15,20,0.35);
  white-space:nowrap;
}

/* GRID: tarjetas verticales más "poster" */
.eventsGrid{
  padding: 12px;
  display:grid;
  grid-template-columns: repeat(4, minmax(0, 1fr));
  gap: 10px;
}

.card{
  border-radius: 16px;
  background: rgba(15,15,20,0.30);
  border: 1px solid rgba(0,210,255,0.14);
  overflow:hidden;
  cursor:pointer;
  transition: transform .12s ease, border-color .12s ease, box-shadow .12s ease;
  min-height: 260px; /* más vertical */
}
.card:hover{
  transform: translateY(-2px);
  border-color: rgba(0,210,255,0.28);
  box-shadow: 0 18px 50px rgba(0,0,0,0.40);
}

.cardMedia{
  position:relative;
  height: 180px;
  background: rgba(0,0,0,0.18);
}
.cardMedia img{
  width:100%; height:100%;
  object-fit: cover;
  display:block;
}
.silhouette{
  position:absolute; inset:0;
  background: rgba(0,0,0,0.78);
  mix-blend-mode: multiply;
}
.cardMedia .imgFallback{
  position:absolute; inset:0;
  display:grid; place-items:center;
  font-weight:900;
  letter-spacing:0.8px;
  opacity:0.72;
}

.cardBody{padding: 10px 10px 12px}
.cardTitle{font-weight:950; font-size:13px; line-height:1.15; margin-bottom:8px}

.badges{display:flex; flex-wrap:wrap; gap:6px}
.badge{
  font-size:11px;
  padding:6px 8px;
  border-radius:999px;
  border:1px solid rgba(0,210,255,0.18);
  background: rgba(25,42,86,0.35);
}
.badge.boss{border-color: rgba(114,26,255,0.25)}
.badge.locked{border-color: rgba(0,210,255,0.28); background: rgba(15,15,20,0.42)}
.badge.unlocked{border-color: rgba(114,26,255,0.25); background: rgba(114,26,255,0.08)}

.secretTitle{
  letter-spacing: 0.18em;
  opacity:.9;
}

.reqMini{
  margin-top: 8px;
  padding: 8px 10px;
  border-radius: 14px;
  border: 1px solid rgba(0,210,255,0.10);
  background: rgba(25,42,86,0.18);
  font-size: 12px;
  opacity: .92;
}

/* notes */
.notes{padding: 12px 14px; font-size:13px; line-height:1.55}
.notes ul{margin:8px 0 0 18px}
.notes code{background: rgba(0,0,0,0.18); padding: 2px 6px; border-radius:8px}

/* Modal */
.backdrop{
  position:fixed; inset:0;
  background: rgba(0,0,0,0.6);
  backdrop-filter: blur(6px);
  z-index: 100;
}
.modal{
  position:fixed; inset:0;
  display:grid; place-items:center;
  z-index: 110;
  padding: 16px;
}
.modalCard{
  width: min(980px, 96vw);
  border-radius: 18px;
  border:1px solid rgba(114,26,255,0.28);
  background: rgba(15,15,20,0.90);
  box-shadow: 0 22px 80px rgba(0,0,0,0.65);
  overflow:hidden;
}
.modalTop{
  display:flex; align-items:flex-start; justify-content:space-between; gap:12px;
  padding: 14px 14px 10px;
  border-bottom: 1px solid rgba(0,210,255,0.14);
}
.modalEyebrow{font-size:12px; opacity:.78}
.modalTitle{font-weight:950; font-size:18px; margin-top:2px}
.modalBody{
  display:grid;
  grid-template-columns: 1fr 1.2fr;
  gap: 12px;
  padding: 12px;
}
.modalMedia{
  position:relative;
  border-radius: 14px;
  overflow:hidden;
  border:1px solid rgba(0,210,255,0.14);
  background: rgba(25,42,86,0.18);
  min-height: 320px;
}
.modalMedia img{width:100%; height:100%; object-fit:cover; display:block}
.modalMedia .imgFallback{
  position:absolute; inset:0; display:grid; place-items:center;
  font-weight:900; letter-spacing:1px; opacity:.75;
}

.modalContent{display:flex; flex-direction:column; gap:10px}
.reqBox{
  padding: 10px 12px;
  border-radius: 14px;
  background: rgba(25,42,86,0.25);
  border: 1px solid rgba(0,210,255,0.12);
}
.reqTitle{font-weight:900; font-size:12px; opacity:.9}
.reqText{opacity:.85; margin-top:4px}

.descWrap{
  padding: 10px 12px;
  border-radius: 14px;
  background: rgba(25,42,86,0.18);
  border: 1px solid rgba(0,210,255,0.08);
}
.descTitle{font-weight:900; font-size:12px; opacity:.9}
.modalDesc{opacity:.9; line-height:1.5; margin-top:4px}

.modalActions{display:flex; gap:10px; flex-wrap:wrap; margin-top:4px}
.modalToast{
  font-size:12px;
  padding: 8px 10px;
  border-radius: 12px;
  border: 1px solid rgba(0,210,255,0.16);
  background: rgba(25,42,86,0.20);
  opacity:.95;
}

.hidden{display:none !important}

@media (max-width: 980px){
  .wrap{grid-template-columns: 1fr}
  .modalBody{grid-template-columns: 1fr}
  .modalMedia{min-height: 240px}
  .eventsGrid{grid-template-columns: repeat(3, minmax(0,1fr))}
}
@media (max-width: 640px){
  .eventsGrid{grid-template-columns: repeat(2, minmax(0,1fr))}
  .cardMedia{height: 170px}
  .brandSub{display:none}
}
